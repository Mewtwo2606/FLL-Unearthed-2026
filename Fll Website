<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>FLL Unearthed 2026</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    padding: 20px;
}

.admin-only {
    display: none;
    background: #fff;
    padding: 15px;
    margin: 20px 0;
    border-radius: 6px;
}

.item {
    background: white;
    padding: 10px;
    margin: 10px 0;
    border-radius: 6px;
}

img {
    max-width: 100%;
}
</style>
</head>

<body>

<h1>FLL Unearthed 2026</h1>

<!-- ADMIN PANEL -->
<div class="admin-only" id="adminPanel">

<h2>Text hinzufügen</h2>
<textarea id="textInput" placeholder="Text eingeben"></textarea>
<button onclick="addText()">Speichern</button>

<h2>Link hinzufügen</h2>
<input id="linkText" placeholder="Link Text">
<input id="linkUrl" placeholder="https://">
<button onclick="addLink()">Speichern</button>

<h2>Bild hinzufügen</h2>
<input id="imageUrl" placeholder="Bild URL">
<button onclick="addImage()">Speichern</button>

</div>

<hr>

<h2>Inhalte</h2>
<div id="content"></div>

<script>
const ADMIN_PASSWORD = "2606";
let isAdmin = false;

let texts = JSON.parse(localStorage.getItem("texts")) || [];
let links = JSON.parse(localStorage.getItem("links")) || [];
let images = JSON.parse(localStorage.getItem("images")) || [];

function save() {
    localStorage.setItem("texts", JSON.stringify(texts));
    localStorage.setItem("links", JSON.stringify(links));
    localStorage.setItem("images", JSON.stringify(images));
}

/* Tastenkombinationen */
document.addEventListener("keydown", function(e) {

    /* LOGIN: Strg + E */
    if (e.ctrlKey && e.key.toLowerCase() === "e") {
        e.preventDefault();
        if (!isAdmin) {
            const pw = prompt("Admin Passwort:");
            if (pw === ADMIN_PASSWORD) {
                isAdmin = true;
                updateView();
                alert("Admin Modus aktiviert");
            } else {
                alert("Falsches Passwort");
            }
        }
    }

    /* LOGOUT: Strg + L */
    if (e.ctrlKey && e.key.toLowerCase() === "l") {
        e.preventDefault();
        if (isAdmin) {
            isAdmin = false;
            updateView();
            alert("Admin Modus deaktiviert");
        }
    }
});

function updateView() {
    document.querySelectorAll(".admin-only").forEach(el => {
        el.style.display = isAdmin ? "block" : "none";
    });
    render();
}

function addText() {
    if (!textInput.value) return;
    texts.push(textInput.value);
    textInput.value = "";
    save();
    render();
}

function addLink() {
    if (!linkText.value || !linkUrl.value) return;
    links.push({ text: linkText.value, url: linkUrl.value });
    linkText.value = linkUrl.value = "";
    save();
    render();
}

function addImage() {
    if (!imageUrl.value) return;
    images.push(imageUrl.value);
    imageUrl.value = "";
    save();
    render();
}

function remove(type, i) {
    if (type === "text") texts.splice(i,1);
    if (type === "link") links.splice(i,1);
    if (type === "image") images.splice(i,1);
    save();
    render();
}

function render() {
    content.innerHTML = "";

    texts.forEach((t,i)=>{
        content.innerHTML += `
        <div class="item">
            <p>${t}</p>
            ${isAdmin ? `<button onclick="remove('text',${i})">Löschen</button>` : ""}
        </div>`;
    });

    links.forEach((l,i)=>{
        content.innerHTML += `
        <div class="item">
            <a href="${l.url}" target="_blank">${l.text}</a>
            ${isAdmin ? `<button onclick="remove('link',${i})">Löschen</button>` : ""}
        </div>`;
    });

    images.forEach((img,i)=>{
        content.innerHTML += `
        <div class="item">
            <img src="${img}">
            ${isAdmin ? `<button onclick="remove('image',${i})">Löschen</button>` : ""}
        </div>`;
    });
}

updateView();
</script>

</body>
</html>
